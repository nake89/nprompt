"use strict";var B=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _=B((ze,y)=>{"use strict";var p="\x1B",s=`${p}[`,D="\x07",$={to(e,t){return t?`${s}${t+1};${e+1}H`:`${s}${e+1}G`},move(e,t){let r="";return e<0?r+=`${s}${-e}D`:e>0&&(r+=`${s}${e}C`),t<0?r+=`${s}${-t}A`:t>0&&(r+=`${s}${t}B`),r},up:(e=1)=>`${s}${e}A`,down:(e=1)=>`${s}${e}B`,forward:(e=1)=>`${s}${e}C`,backward:(e=1)=>`${s}${e}D`,nextLine:(e=1)=>`${s}E`.repeat(e),prevLine:(e=1)=>`${s}F`.repeat(e),left:`${s}G`,hide:`${s}?25l`,show:`${s}?25h`,save:`${p}7`,restore:`${p}8`},E={up:(e=1)=>`${s}S`.repeat(e),down:(e=1)=>`${s}T`.repeat(e)},A={screen:`${s}2J`,up:(e=1)=>`${s}1J`.repeat(e),down:(e=1)=>`${s}J`.repeat(e),line:`${s}2K`,lineEnd:`${s}K`,lineStart:`${s}1K`,lines(e){let t="";for(let r=0;r<e;r++)t+=this.line+(r<e-1?$.up():"");return e&&(t+=$.left),t}};y.exports={cursor:$,scroll:E,erase:A,beep:D}});var R=B(i=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var L=require("tty");function T(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var l=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,l.get?l:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var w=T(L),{env:b={},argv:m=[],platform:W=""}=typeof process>"u"?{}:process,Y="NO_COLOR"in b||m.includes("--no-color"),k="FORCE_COLOR"in b||m.includes("--color"),q=W==="win32",v=b.TERM==="dumb",F=w&&w.isatty&&w.isatty(1)&&b.TERM&&!v,z="CI"in b&&("GITHUB_ACTIONS"in b||"GITLAB_CI"in b||"CIRCLECI"in b),O=!Y&&(k||q&&!v||F||z),M=(e,t,r,l,o=t.substring(0,e)+l,c=t.substring(e+r.length),d=c.indexOf(r))=>o+(d<0?c:M(d,c,r,l)),J=(e,t,r,l,o)=>e<0?r+t+l:r+M(e,t,l,o)+l,K=(e,t,r=e,l=e.length+1)=>o=>o||!(o===""||o===void 0)?J((""+o).indexOf(t,l),o,e,t,r):"",n=(e,t,r)=>K(`\x1B[${e}m`,`\x1B[${t}m`,r),C={reset:n(0,0),bold:n(1,22,"\x1B[22m\x1B[1m"),dim:n(2,22,"\x1B[22m\x1B[2m"),italic:n(3,23),underline:n(4,24),inverse:n(7,27),hidden:n(8,28),strikethrough:n(9,29),black:n(30,39),red:n(31,39),green:n(32,39),yellow:n(33,39),blue:n(34,39),magenta:n(35,39),cyan:n(36,39),white:n(37,39),gray:n(90,39),bgBlack:n(40,49),bgRed:n(41,49),bgGreen:n(42,49),bgYellow:n(43,49),bgBlue:n(44,49),bgMagenta:n(45,49),bgCyan:n(46,49),bgWhite:n(47,49),blackBright:n(90,39),redBright:n(91,39),greenBright:n(92,39),yellowBright:n(93,39),blueBright:n(94,39),magentaBright:n(95,39),cyanBright:n(96,39),whiteBright:n(97,39),bgBlackBright:n(100,49),bgRedBright:n(101,49),bgGreenBright:n(102,49),bgYellowBright:n(103,49),bgBlueBright:n(104,49),bgMagentaBright:n(105,49),bgCyanBright:n(106,49),bgWhiteBright:n(107,49)},j=({useColor:e=O}={})=>e?C:Object.keys(C).reduce((t,r)=>({...t,[r]:String}),{}),{reset:N,bold:H,dim:U,italic:x,underline:Q,inverse:V,hidden:X,strikethrough:Z,black:ee,red:te,green:re,yellow:ie,blue:ne,magenta:le,cyan:oe,white:se,gray:ae,bgBlack:ge,bgRed:ce,bgGreen:ue,bgYellow:be,bgBlue:he,bgMagenta:fe,bgCyan:de,bgWhite:Be,blackBright:pe,redBright:$e,greenBright:we,yellowBright:ye,blueBright:_e,magentaBright:Ce,cyanBright:me,whiteBright:ve,bgBlackBright:Oe,bgRedBright:Me,bgGreenBright:je,bgYellowBright:Re,bgBlueBright:Ge,bgMagentaBright:Ie,bgCyanBright:Pe,bgWhiteBright:Se}=j();i.bgBlack=ge;i.bgBlackBright=Oe;i.bgBlue=he;i.bgBlueBright=Ge;i.bgCyan=de;i.bgCyanBright=Pe;i.bgGreen=ue;i.bgGreenBright=je;i.bgMagenta=fe;i.bgMagentaBright=Ie;i.bgRed=ce;i.bgRedBright=Me;i.bgWhite=Be;i.bgWhiteBright=Se;i.bgYellow=be;i.bgYellowBright=Re;i.black=ee;i.blackBright=pe;i.blue=ne;i.blueBright=_e;i.bold=H;i.createColors=j;i.cyan=oe;i.cyanBright=me;i.dim=U;i.gray=ae;i.green=re;i.greenBright=we;i.hidden=X;i.inverse=V;i.isColorSupported=O;i.italic=x;i.magenta=le;i.magentaBright=Ce;i.red=te;i.redBright=$e;i.reset=N;i.strikethrough=Z;i.underline=Q;i.white=se;i.whiteBright=ve;i.yellow=ie;i.yellowBright=ye});var G=B(g=>{"use strict";var De=g&&g.__createBinding||(Object.create?function(e,t,r,l){l===void 0&&(l=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,l,o)}:function(e,t,r,l){l===void 0&&(l=r),e[l]=t[r]}),Ee=g&&g.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ae=g&&g.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&De(t,e,r);return Ee(t,e),t};Object.defineProperty(g,"__esModule",{value:!0});g.autocomplete=void 0;var Le=Ae(require("readline")),h=_(),f=R(),a=e=>process.stdout.write(e);function Te(e){let t=!1,r=0,l=[],o="";return new Promise((c,d)=>{let I=Le.createInterface({input:process.stdin,output:process.stdout});process.stdin.setRawMode(!0),a(`${(0,f.bold)((0,f.green)("?"))} ${e.message}: `),process.stdin.on("data",P=>{let u=P.toString();u==="\r"||u===`
`?(a(h.cursor.up()),a(h.erase.down()),I.close(),process.stdin.setRawMode(!1),c(l[r])):(u==="\x7F"?o.length>0&&(o=o.slice(0,-1)):u!=="\x1B[A"&&u!=="\x1B[B"&&(o+=u),l=e.choices.filter(({title:S})=>Ye(o.toLowerCase(),S.toLowerCase())),u=="\x1B[A"?r!==0&&r--:u=="\x1B[B"&&r<l.length-1&&r++,a(h.erase.line),a(h.cursor.left),a(`${(0,f.bold)((0,f.green)("?"))} ${e.message}: ${o}`),a(h.erase.down()),We(l,r),a(h.cursor.forward(e.message.length+o.length+4)),a(h.cursor.up(l.length+1)))})})}g.autocomplete=Te;function We(e,t){a(`
`);for(let[r,l]of e.entries())a(r===t?`${(0,f.green)("\u276F "+(0,f.underline)(l.title))}
`:`${l.title}
`)}function Ye(e,t){var r=t.length,l=e.length;if(l>r)return!1;if(l===r)return e===t;e:for(var o=0,c=0;o<l;o++){for(var d=e.charCodeAt(o);c<r;)if(t.charCodeAt(c++)===d)continue e;return!1}return!0}});Object.defineProperty(exports,"__esModule",{value:!0});var ke=G(),qe={message:"Pick your favorite actor",choices:[{title:"Cage"},{title:"Clooney",value:"silver-fox"},{title:"Gyllenhaal"},{title:"Gibson"},{title:"Grant"}]};(0,ke.autocomplete)(qe).then(e=>{console.log(e)});
